{"ast":null,"code":"import { take } from 'rxjs';\nimport { FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/blog-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/button\";\nfunction AdminCreateBlogComponent_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Title should not be blank \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminCreateBlogComponent_mat_error_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Title should have at least 4 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminCreateBlogComponent_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Content should not be blank \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminCreateBlogComponent_mat_error_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Content should have at least 4 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminCreateBlogComponent_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r5 == null ? null : item_r5.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r5 == null ? null : item_r5.name);\n  }\n}\nexport class AdminCreateBlogComponent {\n  constructor(blogService, router, datePipe, activateRoute, fb) {\n    this.blogService = blogService;\n    this.router = router;\n    this.datePipe = datePipe;\n    this.activateRoute = activateRoute;\n    this.fb = fb;\n    this.postId = '';\n    this.isEditMode = false;\n    this.createDate = '';\n    this.blogPostForm = new FormGroup({});\n    this.getCategoryList = this.blogService.getCategoryList();\n    this.blogPostForm = this.fb.group({\n      title: ['', [Validators.required, Validators.minLength(4)]],\n      content: ['', [Validators.required, Validators.minLength(4)]],\n      postImage: ['', []],\n      category: [0, []]\n    });\n    this.activateRoute.queryParams.subscribe(res => {\n      if (res && res?.id) {\n        this.postId = res?.id;\n        this.isEditMode = true;\n        this.getPostDetailById();\n      }\n    });\n  }\n  createBlog() {\n    if (this.blogPostForm.invalid) {\n      return;\n    }\n    const body = {\n      postTitle: this.blogPostForm.controls['title'].value,\n      postContent: this.blogPostForm.controls['content'].value,\n      postImage: this.blogPostForm.controls['postImage'].value,\n      category: this.blogPostForm.controls['category'].value,\n      postCreation: this.datePipe.transform(new Date(), 'yyyy-MM-dd'),\n      postUpdation: this.datePipe.transform(new Date(), 'yyyy-MM-dd'),\n      user: JSON.parse(this.blogService.getLoggedInUserInformation())\n    };\n    if (!this.isEditMode) {\n      this.blogService.createBlog(body).pipe(take(1)).subscribe(res => {\n        if (res && res?.status && res?.status === 'success') {\n          alert('Blog Added successfully');\n          this.router.navigate(['/admin/blog-list']);\n        }\n      });\n    } else {\n      this.blogService.updateBlog(body, this.postId, 1).pipe(take(1)).subscribe(res => {\n        if (res && res?.status && res?.status === 'success') {\n          alert('Blog Updated successfully');\n          this.router.navigate(['/admin/blog-list']);\n        }\n      });\n    }\n  }\n  getPostDetailById() {\n    this.blogService.getBlogById(this.postId).pipe(take(1)).subscribe(res => {\n      if (res && res?.postId) {\n        this.blogPostForm.controls['title'].setValue(res?.postTitle);\n        this.blogPostForm.controls['content'].setValue(res?.postContent);\n        this.blogPostForm.controls['postImage'].setValue(res?.postImage);\n        this.blogPostForm.controls['category'].setValue(this.blogService.getCategoryList().find(cate => cate?.name.toString() === res?.category)?.value);\n      }\n    });\n  }\n}\nAdminCreateBlogComponent.ɵfac = function AdminCreateBlogComponent_Factory(t) {\n  return new (t || AdminCreateBlogComponent)(i0.ɵɵdirectiveInject(i1.BlogService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DatePipe), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i4.FormBuilder));\n};\nAdminCreateBlogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdminCreateBlogComponent,\n  selectors: [[\"app-admin-create-blog\"]],\n  decls: 30,\n  vars: 8,\n  consts: [[1, \"create-blog\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-container\"], [1, \"form-field\"], [\"for\", \"title\", 1, \"form-label\"], [1, \"input-field\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"title\", \"placeholder\", \"Add Blog title here\"], [4, \"ngIf\"], [\"for\", \"content\", 1, \"form-label\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"content\", \"placeholder\", \"Add Blog Content here\", \"cols\", \"120\", 3, \"rows\"], [\"for\", \"postImage\", 1, \"form-label\"], [\"type\", \"text\", \"matInput\", \"\", \"formControlName\", \"postImage\", \"placeholder\", \"Add image path here\"], [\"for\", \"category\", 1, \"form-label\"], [\"formControlName\", \"category\", 1, \"category-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-action\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 1, \"submit-btn\"], [3, \"value\"]],\n  template: function AdminCreateBlogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function AdminCreateBlogComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.createBlog();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"label\", 4);\n      i0.ɵɵtext(5, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"mat-form-field\", 5);\n      i0.ɵɵelement(7, \"input\", 6);\n      i0.ɵɵtemplate(8, AdminCreateBlogComponent_mat_error_8_Template, 2, 0, \"mat-error\", 7);\n      i0.ɵɵtemplate(9, AdminCreateBlogComponent_mat_error_9_Template, 2, 0, \"mat-error\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 3)(11, \"label\", 8);\n      i0.ɵɵtext(12, \"Content\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"mat-form-field\", 5);\n      i0.ɵɵelement(14, \"textarea\", 9);\n      i0.ɵɵtemplate(15, AdminCreateBlogComponent_mat_error_15_Template, 2, 0, \"mat-error\", 7);\n      i0.ɵɵtemplate(16, AdminCreateBlogComponent_mat_error_16_Template, 2, 0, \"mat-error\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\", 10);\n      i0.ɵɵtext(19, \"Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"mat-form-field\", 5);\n      i0.ɵɵelement(21, \"input\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"label\", 12);\n      i0.ɵɵtext(24, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"select\", 13);\n      i0.ɵɵtemplate(26, AdminCreateBlogComponent_option_26_Template, 2, 2, \"option\", 14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 15)(28, \"button\", 16);\n      i0.ɵɵtext(29);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.blogPostForm);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.blogPostForm.controls[\"title\"].errors == null ? null : ctx.blogPostForm.controls[\"title\"].errors[\"required\"]);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.blogPostForm.controls[\"title\"].errors == null ? null : ctx.blogPostForm.controls[\"title\"].errors[\"minlength\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"rows\", 15);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.blogPostForm.controls[\"content\"].errors == null ? null : ctx.blogPostForm.controls[\"content\"].errors[\"required\"]);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.blogPostForm.controls[\"content\"].errors == null ? null : ctx.blogPostForm.controls[\"content\"].errors[\"minlength\"]);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", ctx.getCategoryList);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.isEditMode ? \"Update Blog\" : \"Create Blog\", \" \");\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.MatButton],\n  styles: [\".create-blog[_ngcontent-%COMP%] {\\n    width: 100%;\\n    max-width: 900px;\\n    margin: 30px auto;\\n    padding: 30px;\\n    background: rgba(255, 255, 255, 0.9); \\n    border-radius: 15px;\\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\\n    -webkit-backdrop-filter: blur(10px);\\n            backdrop-filter: blur(10px); \\n    animation: _ngcontent-%COMP%_fadeIn 1s ease-in-out;\\n    position: relative;\\n}\\n\\n.form-container[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: 1fr;\\n    gap: 25px;\\n}\\n\\n.form-field[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    margin-bottom: 25px;\\n}\\n\\n\\n.form-label[_ngcontent-%COMP%] {\\n    font-size: 1.2rem;\\n    font-weight: bold;\\n    color: #333;\\n    margin-bottom: 10px;\\n}\\n\\n\\n.input-field[_ngcontent-%COMP%] {\\n    width: 100%;\\n    background-color: rgba(255, 255, 255, 0.85); \\n    border-radius: 8px;\\n    padding: 15px;\\n    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);\\n    border: 1px solid #e0e0e0;\\n    transition: all 0.3s ease-in-out;\\n}\\n\\n.input-field[_ngcontent-%COMP%]:hover {\\n    transform: scale(1.03);\\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);\\n}\\n\\ntextarea.mat-input-element[_ngcontent-%COMP%] {\\n    font-size: 1rem;\\n    color: #444;\\n    padding: 15px;\\n    border-radius: 8px;\\n    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);\\n    background-color: rgba(255, 255, 255, 0.85); \\n}\\n\\n\\n.category-select[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 15px;\\n    border-radius: 8px;\\n    border: 1px solid #ccc;\\n    font-size: 1rem;\\n    color: #444;\\n    background: rgba(255, 255, 255, 0.85);\\n    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);\\n    transition: all 0.3s ease-in-out;\\n}\\n\\n.category-select[_ngcontent-%COMP%]:hover {\\n    background-color: rgba(240, 240, 240, 0.85);\\n}\\n\\n\\n.submit-btn[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 15px;\\n    font-size: 1.2rem;\\n    text-transform: uppercase;\\n    background: linear-gradient(45deg, #00c6ff, #0072ff); \\n    color: #fff;\\n    border: none;\\n    border-radius: 8px;\\n    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);\\n    cursor: pointer;\\n    transition: all 0.3s ease-in-out;\\n}\\n\\n.submit-btn[_ngcontent-%COMP%]:hover {\\n    background: linear-gradient(45deg, #0072ff, #00c6ff);\\n    transform: translateY(-4px);\\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);\\n}\\n\\n\\n.mat-error[_ngcontent-%COMP%] {\\n    font-size: 0.9rem;\\n    color: #f44336;\\n    margin-top: 5px;\\n}\\n\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n    0% {\\n        opacity: 0;\\n        transform: translateY(10px);\\n    }\\n    100% {\\n        opacity: 1;\\n        transform: translateY(0);\\n    }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9hZG1pbi1jcmVhdGUtYmxvZy9hZG1pbi1jcmVhdGUtYmxvZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXFERztDQUNGLG9CQUFvQjtBQUNyQixvQkFBb0I7QUFDcEIsb0JBQW9CO0FBQ3BCO0lBQ0ksV0FBVztJQUNYLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsYUFBYTtJQUNiLG9DQUFvQyxFQUFFLGlDQUFpQztJQUN2RSxtQkFBbUI7SUFDbkIsMENBQTBDO0lBQzFDLG1DQUEyQjtZQUEzQiwyQkFBMkIsRUFBRSwyQ0FBMkM7SUFDeEUsZ0NBQWdDO0lBQ2hDLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYiwwQkFBMEI7SUFDMUIsU0FBUztBQUNiOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7QUFDdkI7O0FBRUEsZUFBZTtBQUNmO0lBQ0ksaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gsbUJBQW1CO0FBQ3ZCOztBQUVBLHdCQUF3QjtBQUN4QjtJQUNJLFdBQVc7SUFDWCwyQ0FBMkMsRUFBRSxtQ0FBbUM7SUFDaEYsa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYix5Q0FBeUM7SUFDekMseUJBQXlCO0lBQ3pCLGdDQUFnQztBQUNwQzs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QiwyQ0FBMkM7QUFDL0M7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsV0FBVztJQUNYLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIseUNBQXlDO0lBQ3pDLDJDQUEyQyxFQUFFLDBCQUEwQjtBQUMzRTs7QUFFQSwyQkFBMkI7QUFDM0I7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIsZUFBZTtJQUNmLFdBQVc7SUFDWCxxQ0FBcUM7SUFDckMseUNBQXlDO0lBQ3pDLGdDQUFnQztBQUNwQzs7QUFFQTtJQUNJLDJDQUEyQztBQUMvQzs7QUFFQSwyQ0FBMkM7QUFDM0M7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQix5QkFBeUI7SUFDekIsb0RBQW9ELEVBQUUsb0JBQW9CO0lBQzFFLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLHlDQUF5QztJQUN6QyxlQUFlO0lBQ2YsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksb0RBQW9EO0lBQ3BELDJCQUEyQjtJQUMzQiwyQ0FBMkM7QUFDL0M7O0FBRUEsMENBQTBDO0FBQzFDO0lBQ0ksaUJBQWlCO0lBQ2pCLGNBQWM7SUFDZCxlQUFlO0FBQ25COztBQUVBLGlDQUFpQztBQUNqQztJQUNJO1FBQ0ksVUFBVTtRQUNWLDJCQUEyQjtJQUMvQjtJQUNBO1FBQ0ksVUFBVTtRQUNWLHdCQUF3QjtJQUM1QjtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLyogXG5cbnRhYmxlIHtcbiAgICB3aWR0aDogNTAlO1xuICAgIHBhZGRpbmc6NXB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDEwMHB4O1xubWFyZ2luLWxlZnQ6IGF1dG87ICBcbm1hcmdpbi1yaWdodDogYXV0bzsgIFxuYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgICAgXG50ZXh0LWFsaWduOiBjZW50ZXI7ICBcbmZvbnQtc2l6ZTogMzBweDsgXG5mb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbmJhY2tncm91bmQtY29sb3I6ICMwYzBjMGM7XG5cbn1cblxudGQge1xuICAgIHdpZHRoOiA1MCU7XG4gICAgcGFkZGluZzogMzBweDtcbmNvbG9yOiAjZmZmO1xuICBcblxufVxubWF0LWVycm9ye1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbn1cblxuLmNvbnRlbnR7XG4gICAgcGFkZGluZzogMTAwcHg7XG59XG5pbnB1dFt0eXBlPSd0ZXh0J10sXG50ZXh0YXJlYSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjMGMwYzBjO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbn1cblxuc2VsZWN0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiA3cHg7XG4gICAgYm9yZGVyOiAycHggc29saWQgIzFhMDEwMTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5cbmJ1dHRvbiB7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59ICovXG4gLyogR2VuZXJhbCBTdHlsaW5nICovXG4vKiBHZW5lcmFsIFN0eWxpbmcgKi9cbi8qIEdlbmVyYWwgU3R5bGluZyAqL1xuLmNyZWF0ZS1ibG9nIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXgtd2lkdGg6IDkwMHB4O1xuICAgIG1hcmdpbjogMzBweCBhdXRvO1xuICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpOyAvKiBUcmFuc3BhcmVudCB3aGl0ZSBiYWNrZ3JvdW5kICovXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBib3gtc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOyAvKiBBZGRzIGJsdXIgZWZmZWN0IGZvciBzbW9vdGggYmFja2dyb3VuZCAqL1xuICAgIGFuaW1hdGlvbjogZmFkZUluIDFzIGVhc2UtaW4tb3V0O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmZvcm0tY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICAgIGdhcDogMjVweDtcbn1cblxuLmZvcm0tZmllbGQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xufVxuXG4vKiBGb3JtIExhYmVsICovXG4uZm9ybS1sYWJlbCB7XG4gICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgY29sb3I6ICMzMzM7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLyogR2xvc3N5IElucHV0IEZpZWxkcyAqL1xuLmlucHV0LWZpZWxkIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuODUpOyAvKiBTbGlnaHRseSB0cmFuc3BhcmVudCBmb3IgZGVwdGggKi9cbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgcGFkZGluZzogMTVweDtcbiAgICBib3gtc2hhZG93OiAwIDZweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2UtaW4tb3V0O1xufVxuXG4uaW5wdXQtZmllbGQ6aG92ZXIge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wMyk7XG4gICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbn1cblxudGV4dGFyZWEubWF0LWlucHV0LWVsZW1lbnQge1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBjb2xvcjogIzQ0NDtcbiAgICBwYWRkaW5nOiAxNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBib3gtc2hhZG93OiAwIDZweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuODUpOyAvKiBUcmFuc3BhcmVudCBmb3IgZGVwdGggKi9cbn1cblxuLyogQ3VzdG9tIFNlbGVjdCBEcm9wZG93biAqL1xuLmNhdGVnb3J5LXNlbGVjdCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMTVweDtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgY29sb3I6ICM0NDQ7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg1KTtcbiAgICBib3gtc2hhZG93OiAwIDZweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlLWluLW91dDtcbn1cblxuLmNhdGVnb3J5LXNlbGVjdDpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDAsIDI0MCwgMjQwLCAwLjg1KTtcbn1cblxuLyogU3VibWl0IEJ1dHRvbiB3aXRoIFNtb290aCBIb3ZlciBFZmZlY3QgKi9cbi5zdWJtaXQtYnRuIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAxNXB4O1xuICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjMDBjNmZmLCAjMDA3MmZmKTsgLyogU21vb3RoIGdyYWRpZW50ICovXG4gICAgY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICBib3gtc2hhZG93OiAwIDZweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZS1pbi1vdXQ7XG59XG5cbi5zdWJtaXQtYnRuOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDcyZmYsICMwMGM2ZmYpO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNHB4KTtcbiAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xufVxuXG4vKiBFcnJvciBTdHlsaW5nIGZvciBWYWxpZGF0aW9uIE1lc3NhZ2VzICovXG4ubWF0LWVycm9yIHtcbiAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICBjb2xvcjogI2Y0NDMzNjtcbiAgICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi8qIEFuaW1hdGlvbiBmb3IgU21vb3RoIExvYWRpbmcgKi9cbkBrZXlmcmFtZXMgZmFkZUluIHtcbiAgICAwJSB7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["take","FormGroup","Validators","i0","AdminCreateBlogComponent","constructor","blogService","router","datePipe","activateRoute","fb","getCategoryList","blogPostForm","group","title","required","minLength","content","postImage","category","queryParams","subscribe","res","id","postId","isEditMode","getPostDetailById","createBlog","invalid","body","postTitle","controls","value","postContent","postCreation","transform","Date","postUpdation","user","JSON","parse","getLoggedInUserInformation","pipe","status","alert","navigate","updateBlog","getBlogById","setValue","find","cate","name","toString","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\BLOG_PROJ\\Blog_frontend\\src\\app\\components\\admin\\admin-create-blog\\admin-create-blog.component.ts","D:\\BLOG_PROJ\\Blog_frontend\\src\\app\\components\\admin\\admin-create-blog\\admin-create-blog.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { BlogService } from '../../service/blog-service.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DatePipe } from '@angular/common';\nimport { take } from 'rxjs';\nimport { Blog } from 'src/app/model/blog.model';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-admin-create-blog',\n  templateUrl: './admin-create-blog.component.html',\n  styleUrls: ['./admin-create-blog.component.css']\n})\nexport class AdminCreateBlogComponent {\n\n  getCategoryList: any;\n  postId: string = '';\n  isEditMode: boolean = false;\n  createDate: string = '';\n  blogPostForm = new FormGroup<any>({});\n \n  constructor(\n    private blogService: BlogService,\n    private router: Router,\n    private datePipe: DatePipe,\n    private activateRoute: ActivatedRoute,\n    private fb: FormBuilder\n  ) {\n    this.getCategoryList = this.blogService.getCategoryList();\n    this.blogPostForm = this.fb.group({\n      title: ['', [Validators.required, Validators.minLength(4)]],\n      content: ['', [Validators.required, Validators.minLength(4)]],\n      postImage: ['', []],\n      category: [0, []]\n    });\n    this.activateRoute.queryParams.subscribe((res: any) => {\n      if (res && res?.id) {\n        this.postId = res?.id;\n        this.isEditMode = true;\n        this.getPostDetailById();\n      }\n    });\n  }\n\n  createBlog(): void {\n    if (this.blogPostForm.invalid) {\n      return;\n    }\n    \n    const body: any = {\n      postTitle: this.blogPostForm.controls['title'].value,\n      postContent: this.blogPostForm.controls['content'].value,\n      postImage: this.blogPostForm.controls['postImage'].value,\n      category: this.blogPostForm.controls['category'].value,\n      postCreation: this.datePipe.transform(new Date(), 'yyyy-MM-dd'),\n      postUpdation: this.datePipe.transform(new Date(), 'yyyy-MM-dd'),\n      user: JSON.parse(this.blogService.getLoggedInUserInformation())\n    }\n\n    if (!this.isEditMode) {\n      this.blogService.createBlog(body).pipe(take(1)).subscribe((res: any) => {\n        if (res && res?.status && res?.status === 'success') {\n          alert('Blog Added successfully');\n          this.router.navigate(['/admin/blog-list'])\n        }\n      });\n    } else {\n        this.blogService.updateBlog(body, this.postId, 1).pipe(take(1)).subscribe((res: any) => {\n          if (res && res?.status && res?.status === 'success') {\n            alert('Blog Updated successfully');\n            this.router.navigate(['/admin/blog-list'])\n          }\n        });\n    }\n  }\n\n  getPostDetailById(): void {\n    this.blogService.getBlogById(this.postId).pipe(take(1)).subscribe((res: any) => {\n      if (res && res?.postId) {\n        this.blogPostForm.controls['title'].setValue(res?.postTitle);\n        this.blogPostForm.controls['content'].setValue(res?.postContent);\n        this.blogPostForm.controls['postImage'].setValue(res?.postImage);\n        this.blogPostForm.controls['category'].setValue(this.blogService.getCategoryList().find((cate: any) => cate?.name.toString() === res?.category)?.value);\n      }\n    });\n  }\n}","<!-- <div class=\"create-blog\">\n    <form [formGroup]=\"blogPostForm\" (ngSubmit)=\"createBlog()\">\n        <table>\n            <tr>\n                <td class=\"small\">Title</td>\n                <td>\n                    <mat-form-field >\n                     \n                        <input type=\"text\" matInput formControlName=\"title\"\n                               placeholder=\"Add Blog title here\">\n                        <mat-error *ngIf=\"blogPostForm.controls['title'].errors?.['required']\">\n                            Title should not be blank\n                        </mat-error>\n                        <mat-error *ngIf=\"blogPostForm.controls['title'].errors?.['minlength']\">\n                            Title should have at least 4 character\n                        </mat-error>\n                      </mat-form-field>\n                </td>\n            </tr>\n             <tr>\n                <td>Content</td>\n                <td>\n                    <mat-form-field >\n                      \n                        <textarea type=\"text\" matInput formControlName=\"content\"\n                               placeholder=\"Add Blog Content here\" [rows]=\"5\" cols=\"50\"></textarea>\n                        <mat-error *ngIf=\"blogPostForm.controls['content'].errors?.['required']\">\n                            Content should not be blank\n                        </mat-error>\n                        <mat-error *ngIf=\"blogPostForm.controls['content'].errors?.['minlength']\">\n                            content should have at least 4 character\n                        </mat-error>\n                      </mat-form-field>\n                </td>\n            </tr>\n           <tr>\n                <td>Image</td>\n                <td>\n                    <mat-form-field >\n                        \n                        <input type=\"text\" matInput formControlName=\"postImage\"\n                               placeholder=\"Add image path here\">\n                      </mat-form-field>\n                </td>\n            </tr>\n           <tr>\n                <td>Category</td>\n                <td>\n                    <select formControlName=\"category\">\n                        <option *ngFor=\"let item of getCategoryList\" [value]=\"item?.value\">{{item?.name}}</option>\n                    </select>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                </td>\n                <td>\n                    <button mat-raised-button color=\"primary\"> {{isEditMode ? 'Update Blog' : 'Create Blog'}}</button>\n                </td>\n            </tr>\n           </table>\n\n    </form>\n  \n</div> -->\n<div class=\"create-blog\">\n    <form [formGroup]=\"blogPostForm\" (ngSubmit)=\"createBlog()\">\n        <div class=\"form-container\">\n            <div class=\"form-field\">\n                <label for=\"title\" class=\"form-label\">Title</label>\n                <mat-form-field class=\"input-field\">\n                    <input type=\"text\" matInput formControlName=\"title\" placeholder=\"Add Blog title here\">\n                    <mat-error *ngIf=\"blogPostForm.controls['title'].errors?.['required']\">\n                        Title should not be blank\n                    </mat-error>\n                    <mat-error *ngIf=\"blogPostForm.controls['title'].errors?.['minlength']\">\n                        Title should have at least 4 characters\n                    </mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"form-field\">\n                <label for=\"content\" class=\"form-label\">Content</label>\n                <mat-form-field class=\"input-field\">\n                    <textarea type=\"text\" matInput formControlName=\"content\" placeholder=\"Add Blog Content here\" [rows]=\"15\" cols=\"120\"></textarea>\n                    <mat-error *ngIf=\"blogPostForm.controls['content'].errors?.['required']\">\n                        Content should not be blank\n                    </mat-error>\n                    <mat-error *ngIf=\"blogPostForm.controls['content'].errors?.['minlength']\">\n                        Content should have at least 4 characters\n                    </mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"form-field\">\n                <label for=\"postImage\" class=\"form-label\">Image</label>\n                <mat-form-field class=\"input-field\">\n                    <input type=\"text\" matInput formControlName=\"postImage\" placeholder=\"Add image path here\">\n                </mat-form-field>\n            </div>\n\n            <div class=\"form-field\">\n                <label for=\"category\" class=\"form-label\">Category</label>\n                <select formControlName=\"category\" class=\"category-select\">\n                    <option *ngFor=\"let item of getCategoryList\" [value]=\"item?.value\">{{item?.name}}</option>\n                </select>\n            </div>\n\n            <div class=\"form-action\">\n                <button mat-raised-button color=\"accent\" class=\"submit-btn\">\n                    {{isEditMode ? 'Update Blog' : 'Create Blog'}}\n                </button>\n            </div>\n        </div>\n    </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}