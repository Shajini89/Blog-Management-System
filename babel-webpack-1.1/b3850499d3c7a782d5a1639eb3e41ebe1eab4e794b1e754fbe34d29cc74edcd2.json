{"ast":null,"code":"import { FormGroup, Validators } from '@angular/forms';\nimport { take } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../service/blog-service.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nfunction LoginComponent_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Email should not blank \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Enter Valid email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, LoginComponent_div_9_div_1_Template, 2, 0, \"div\", 13);\n    i0.ɵɵtemplate(2, LoginComponent_div_9_div_2_Template, 2, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.clientLoginForm.controls[\"email\"].errors == null ? null : ctx_r0.clientLoginForm.controls[\"email\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.clientLoginForm.controls[\"email\"].errors == null ? null : ctx_r0.clientLoginForm.controls[\"email\"].errors[\"pattern\"]);\n  }\n}\nfunction LoginComponent_div_14_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Password should not blank \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_14_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Minium 8 character required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, LoginComponent_div_14_div_1_Template, 2, 0, \"div\", 13);\n    i0.ɵɵtemplate(2, LoginComponent_div_14_div_2_Template, 2, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.clientLoginForm.controls[\"password\"].errors == null ? null : ctx_r1.clientLoginForm.controls[\"password\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.clientLoginForm.controls[\"password\"].errors == null ? null : ctx_r1.clientLoginForm.controls[\"password\"].errors[\"minlength\"]);\n  }\n}\nexport class LoginComponent {\n  constructor(router, blogService, fb) {\n    this.router = router;\n    this.blogService = blogService;\n    this.fb = fb;\n    this.email = \"\";\n    this.password = \"\";\n    this.clientLoginForm = new FormGroup({});\n    const pattern = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n    this.clientLoginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.pattern(pattern)]],\n      password: [null, Validators.compose([Validators.required, Validators.minLength(8)])]\n    });\n  }\n  signIn() {\n    const body = {\n      \"userEmail\": this.clientLoginForm.controls['email'].value,\n      \"userPassword\": this.clientLoginForm.controls['password'].value\n    };\n    console.log(\"=======>\", body);\n    this.blogService.clientSignIn(body).pipe(take(1)).subscribe(res => {\n      console.log(\"*****\", res);\n      if (res && res?.userId) {\n        // alert(\"Login sucessful\");\n        this.blogService.storeAuthorization(res?.userId);\n        this.blogService.storeUserRole(res?.role);\n        this.blogService.storeLoggedInUserInformation(JSON.stringify(res));\n        let userName = '';\n        if (res?.userName) {\n          userName += res?.userName;\n        }\n        this.blogService.storeUserName(userName);\n        if (res?.role === 'admin') {\n          this.router.navigate(['/admin/home']);\n        } else {\n          this.router.navigate(['/client/home']);\n        }\n      }\n    }, err => {\n      '';\n\n      console.log(\"Error  \", err);\n      alert(\"Something going wrong in login!!pl try again\");\n    });\n  }\n  routeToNewUser() {\n    this.router.navigate([\"/register\"]);\n  }\n  routeToForgotPassword() {\n    this.router.navigate([\"/forgot-password\"]);\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.BlogService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 24,\n  vars: 4,\n  consts: [[1, \"sign-in-component\"], [1, \"container\"], [3, \"formGroup\"], [1, \"input-group\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter your email\", \"formControlName\", \"email\", \"required\", \"\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter your password\", \"formControlName\", \"password\", \"required\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"sign-in-button\", 3, \"disabled\", \"click\"], [1, \"signup-link\"], [1, \"sign-up\", 3, \"click\"], [1, \"error-message\"], [4, \"ngIf\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Sign In\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2)(5, \"div\", 3)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, LoginComponent_div_9_Template, 3, 2, \"div\", 6);\n      i0.ɵɵelementStart(10, \"div\", 3)(11, \"label\", 7);\n      i0.ɵɵtext(12, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(14, LoginComponent_div_14_Template, 3, 2, \"div\", 6);\n      i0.ɵɵelement(15, \"br\");\n      i0.ɵɵelementStart(16, \"div\")(17, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_17_listener() {\n        return ctx.signIn();\n      });\n      i0.ɵɵtext(18, \"Sign In\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 10)(20, \"p\");\n      i0.ɵɵtext(21, \"Don't have an account? \");\n      i0.ɵɵelementStart(22, \"a\", 11);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_22_listener() {\n        return ctx.routeToNewUser();\n      });\n      i0.ɵɵtext(23, \"Sign up Now\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.clientLoginForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.clientLoginForm.controls[\"email\"].invalid && (ctx.clientLoginForm.controls[\"email\"].dirty || ctx.clientLoginForm.controls[\"email\"].touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.clientLoginForm.controls[\"password\"].invalid && (ctx.clientLoginForm.controls[\"password\"].dirty || ctx.clientLoginForm.controls[\"password\"].touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.clientLoginForm.controls[\"password\"].valid || !ctx.clientLoginForm.controls[\"email\"].valid);\n    }\n  },\n  dependencies: [i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName, i5.MatButton],\n  styles: [\"*[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n    box-sizing: border-box;\\n  }\\n  \\n  .sign-in-component[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    min-height: 100vh; \\n    background-size: cover;\\n    background-position: center;\\n  }\\n  \\n  .container[_ngcontent-%COMP%] {\\n    background: rgba(255, 255, 255, 0.1); \\n    -webkit-backdrop-filter: blur(10px);\\n            backdrop-filter: blur(10px); \\n    border-radius: 15px;\\n    padding: 30px;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\\n    width: 100%;\\n    max-width: 400px;\\n    border: 1px solid rgba(255, 255, 255, 0.3); \\n    color: #fff; \\n  }\\n  \\n  h2[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-bottom: 20px;\\n    font-size: 24px;\\n  }\\n  \\n  .input-group[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n  }\\n  \\n  .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n    color: #fff;\\n  }\\n  \\n  .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 10px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    font-size: 14px;\\n    background-color: rgba(255, 255, 255, 0.2); \\n    color: #fff;\\n  }\\n  \\n  .sign-in-button[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 12px;\\n    background-color: #4CAF50;\\n    color: white;\\n    border: none;\\n    border-radius: 4px;\\n    font-size: 16px;\\n    cursor: pointer;\\n  }\\n  \\n  .sign-in-button[_ngcontent-%COMP%]:hover {\\n    background-color: #45a049;\\n  }\\n  \\n  .signup-link[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-top: 20px;\\n  }\\n  \\n  .signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    color: #007BFF;\\n    text-decoration: none;\\n  }\\n  \\n  .signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n    text-decoration: underline;\\n  }\\n  \\n  \\n  .background-image[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    background-size: cover;\\n    background-position: center;\\n    z-index: -1;\\n  }\\n\\n  .error-message[_ngcontent-%COMP%] {\\n    color: red;\\n    font-size: 12px;\\n    display: none; \\n    margin-top: 5px;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFxQkU7O0FBRUYsNkNBQTZDO0FBQzdDO0lBQ0ksU0FBUztJQUNULFVBQVU7SUFDVixzQkFBc0I7RUFDeEI7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixpQkFBaUIsRUFBRSw4QkFBOEI7SUFDakQsc0JBQXNCO0lBQ3RCLDJCQUEyQjtFQUM3Qjs7RUFFQTtJQUNFLG9DQUFvQyxFQUFFLHNDQUFzQztJQUM1RSxtQ0FBMkI7WUFBM0IsMkJBQTJCLEVBQUUsc0JBQXNCO0lBQ25ELG1CQUFtQjtJQUNuQixhQUFhO0lBQ2Isd0NBQXdDO0lBQ3hDLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsMENBQTBDLEVBQUUsc0NBQXNDO0lBQ2xGLFdBQVcsRUFBRSxlQUFlO0VBQzlCOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixlQUFlO0VBQ2pCOztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsZUFBZTtJQUNmLFdBQVc7RUFDYjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsMENBQTBDLEVBQUUsdUNBQXVDO0lBQ25GLFdBQVc7RUFDYjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixlQUFlO0VBQ2pCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxxQkFBcUI7RUFDdkI7O0VBRUE7SUFDRSwwQkFBMEI7RUFDNUI7O0VBRUEsdUNBQXVDO0VBQ3ZDO0lBQ0Usa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixPQUFPO0lBQ1AsV0FBVztJQUNYLFlBQVk7SUFDWixzQkFBc0I7SUFDdEIsMkJBQTJCO0lBQzNCLFdBQVc7RUFDYjs7RUFFQTtJQUNFLFVBQVU7SUFDVixlQUFlO0lBQ2YsYUFBYSxFQUFFLHFCQUFxQjtJQUNwQyxlQUFlO0VBQ2pCIiwic291cmNlc0NvbnRlbnQiOlsiLyouY2xpZW50LWxvZ2luIHtcbiAgICB3aWR0aDogNDAlO1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIGJveC1zaGFkb3c6IHJnYigxMDkgMTA5IDEyNSAvIDI4JSkgMHB4IDRweCA3cHggMTJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMjBweDtcbn1cbi5lcnJvci1tZXNzYWdlIHtcbiAgICBjb2xvcjogcmVkO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbn1cbi5zaWduLXVwe1xuICAgIGNvbG9yOmJsdWU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ubWFpbi1jbGllbnQtbG9naW57XG4gICAgd2lkdGg6IDQwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBib3gtc2hhZG93OiByZ2IoMTA5IDEwOSAxMjUgLyAyOCUpIDBweCA0cHggN3B4IDEycHg7XG4gICAgcGFkZGluZzogMjBweDtcbn0qL1xuXG4vKiBSZXNldCBzb21lIGRlZmF1bHQgc3R5bGVzIGZvciBjb21wb25lbnRzICovXG4qIHtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG4gIFxuICAuc2lnbi1pbi1jb21wb25lbnQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBtaW4taGVpZ2h0OiAxMDB2aDsgLyogT3B0aW9uYWwgYmFja2dyb3VuZCBpbWFnZSAqL1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICB9XG4gIFxuICAuY29udGFpbmVyIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7IC8qIFNlbWktdHJhbnNwYXJlbnQgd2hpdGUgYmFja2dyb3VuZCAqL1xuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsgLyogR2xhc3MgYmx1ciBlZmZlY3QgKi9cbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTsgLyogTGlnaHQgYm9yZGVyIGZvciB0aGUgZ2xhc3MgZWZmZWN0ICovXG4gICAgY29sb3I6ICNmZmY7IC8qIFdoaXRlIHRleHQgKi9cbiAgfVxuICBcbiAgaDIge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgfVxuICBcbiAgLmlucHV0LWdyb3VwIHtcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICB9XG4gIFxuICAuaW5wdXQtZ3JvdXAgbGFiZWwge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogI2ZmZjtcbiAgfVxuICBcbiAgLmlucHV0LWdyb3VwIGlucHV0IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7IC8qIExpZ2h0IGJhY2tncm91bmQgd2l0aCB0cmFuc3BhcmVuY3kgKi9cbiAgICBjb2xvcjogI2ZmZjtcbiAgfVxuICBcbiAgLnNpZ24taW4tYnV0dG9uIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICBcbiAgLnNpZ24taW4tYnV0dG9uOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDVhMDQ5O1xuICB9XG4gIFxuICAuc2lnbnVwLWxpbmsge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICB9XG4gIFxuICAuc2lnbnVwLWxpbmsgYSB7XG4gICAgY29sb3I6ICMwMDdCRkY7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB9XG4gIFxuICAuc2lnbnVwLWxpbmsgYTpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIH1cbiAgXG4gIC8qIE9wdGlvbmFsOiBmb3IgdGhlIGJhY2tncm91bmQgaW1hZ2UgKi9cbiAgLmJhY2tncm91bmQtaW1hZ2Uge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgei1pbmRleDogLTE7XG4gIH1cblxuICAuZXJyb3ItbWVzc2FnZSB7XG4gICAgY29sb3I6IHJlZDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZGlzcGxheTogbm9uZTsgLyogSW5pdGlhbGx5IGhpZGRlbiAqL1xuICAgIG1hcmdpbi10b3A6IDVweDtcbiAgfVxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormGroup","Validators","take","i0","LoginComponent","constructor","router","blogService","fb","pattern","clientLoginForm","group","email","required","password","compose","minLength","signIn","body","controls","value","console","log","clientSignIn","pipe","subscribe","res","userId","storeAuthorization","storeUserRole","role","storeLoggedInUserInformation","JSON","stringify","userName","storeUserName","navigate","err","alert","routeToNewUser","routeToForgotPassword","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\BLOG_PROJ\\Blog_frontend\\src\\app\\components\\login\\login.component.ts","D:\\BLOG_PROJ\\Blog_frontend\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { BlogService } from '../service/blog-service.service';\nimport { take } from 'rxjs';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  email: string = \"\";\n  password: string = \"\";\n  clientLoginForm = new FormGroup<any>({});\n\n  constructor(\n    private router: Router,\n    private blogService: BlogService,\n    private fb: FormBuilder\n\n  ) {\n    const pattern = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/; \n    this.clientLoginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.pattern(pattern)]],\n      password: [null, Validators.compose([Validators.required, Validators.minLength(8)])]\n    });\n\n  }\n\n  signIn(): void {\n\n    const body = {\n      \"userEmail\": this.clientLoginForm.controls['email'].value,\n      \"userPassword\": this.clientLoginForm.controls['password'].value\n    }\n    console.log(\"=======>\",body);\n    this.blogService.clientSignIn(body).pipe(take(1)).subscribe((res :any) => {\n      console.log(\"*****\",res);\n      if(res && res?.userId){\n       // alert(\"Login sucessful\");\n        this.blogService.storeAuthorization(res?.userId);\n        this.blogService.storeUserRole(res?.role);\n        this.blogService.storeLoggedInUserInformation(JSON.stringify(res));\n        let userName = '';\n        if (res?.userName) {\n          userName+=res?.userName;\n        }\n        this.blogService.storeUserName(userName);\n        if (res?.role === 'admin') {\n          this.router.navigate(['/admin/home']);\n        } else {\n          this.router.navigate(['/client/home']);\n        }\n       \n       \n      }\n    }, err =>{''\n      console.log(\"Error  \",err);\n      alert(\"Something going wrong in login!!pl try again\");\n    })\n\n  }\n\n  routeToNewUser(): void {\n    this.router.navigate([\"/register\"]);\n  }\n\n  routeToForgotPassword(): void {\n    this.router.navigate([\"/forgot-password\"]);\n  }\n}\n","<div class=\"sign-in-component\">\n    <div class=\"container\">\n       <h2>Sign In</h2>\n       <form [formGroup]=\"clientLoginForm\">\n          <div class=\"input-group\">\n             <label for=\"email\">Email</label>\n             <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Enter your email\" formControlName=\"email\" required>\n          </div>\n          <div *ngIf=\"clientLoginForm.controls['email'].invalid && (clientLoginForm.controls['email'].dirty || clientLoginForm.controls['email'].touched)\"\n             class=\"error-message\">\n             <div *ngIf=\"clientLoginForm.controls['email'].errors?.['required']\">\n                Email should not blank\n             </div>\n             <div *ngIf=\"clientLoginForm.controls['email'].errors?.['pattern']\">\n                Enter Valid email\n             </div>\n          </div>\n          <div class=\"input-group\">\n             <label for=\"password\">Password</label>\n             <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Enter your password\" formControlName=\"password\" required>\n          </div>\n          <!-- Password Validation code -->\n          <div *ngIf=\"clientLoginForm.controls['password'].invalid && (clientLoginForm.controls['password'].dirty || clientLoginForm.controls['password'].touched)\"\n             class=\"error-message\">\n             <div *ngIf=\"clientLoginForm.controls['password'].errors?.['required']\">\n                Password should not blank\n             </div>\n             <!-- <div *ngIf=\"clientLoginForm.controls['password'].errors?.['maxlength']\">\n                Maximum 8 character required\n                </div> -->\n             <div *ngIf=\"clientLoginForm.controls['password'].errors?.['minlength']\">\n                Minium 8 character required\n             </div>\n          </div>\n          <!--End of Password Validation -->\n          <br />\n          <div>\n             <button class=\"sign-in-button\" (click)=\"signIn()\" mat-raised-button color=\"primary\" [disabled]=\"!clientLoginForm.controls['password'].valid || !clientLoginForm.controls['email'].valid\">Sign In</button>\n          </div>\n       </form>\n       <div class=\"signup-link\">\n          <p>Don't have an account? <a class=\"sign-up\" (click)=\"routeToNewUser()\">Sign up Now</a></p>\n       </div>\n    </div>\n </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}