{"ast":null,"code":"import { FormGroup, Validators } from '@angular/forms';\nimport { take } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../service/blog-service.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nfunction LoginComponent_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Email should not blank \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_12_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Enter Valid email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtemplate(1, LoginComponent_div_12_div_1_Template, 2, 0, \"div\", 21);\n    i0.ɵɵtemplate(2, LoginComponent_div_12_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.clientLoginForm.controls[\"email\"].errors == null ? null : ctx_r0.clientLoginForm.controls[\"email\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.clientLoginForm.controls[\"email\"].errors == null ? null : ctx_r0.clientLoginForm.controls[\"email\"].errors[\"pattern\"]);\n  }\n}\nfunction LoginComponent_div_19_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Password should not blank \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_19_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Minium 8 character required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtemplate(1, LoginComponent_div_19_div_1_Template, 2, 0, \"div\", 21);\n    i0.ɵɵtemplate(2, LoginComponent_div_19_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.clientLoginForm.controls[\"password\"].errors == null ? null : ctx_r1.clientLoginForm.controls[\"password\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.clientLoginForm.controls[\"password\"].errors == null ? null : ctx_r1.clientLoginForm.controls[\"password\"].errors[\"minlength\"]);\n  }\n}\nexport class LoginComponent {\n  constructor(router, blogService, fb) {\n    this.router = router;\n    this.blogService = blogService;\n    this.fb = fb;\n    this.email = \"\";\n    this.password = \"\";\n    this.clientLoginForm = new FormGroup({});\n    const pattern = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n    this.clientLoginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.pattern(pattern)]],\n      password: [null, Validators.compose([Validators.required, Validators.minLength(8)])]\n    });\n  }\n  signIn() {\n    const body = {\n      \"userEmail\": this.clientLoginForm.controls['email'].value,\n      \"userPassword\": this.clientLoginForm.controls['password'].value\n    };\n    console.log(\"=======>\", body);\n    this.blogService.clientSignIn(body).pipe(take(1)).subscribe(res => {\n      console.log(\"*****\", res);\n      if (res && res?.userId) {\n        // alert(\"Login sucessful\");\n        this.blogService.storeAuthorization(res?.userId);\n        this.blogService.storeUserRole(res?.role);\n        this.blogService.storeLoggedInUserInformation(JSON.stringify(res));\n        let userName = '';\n        if (res?.userName) {\n          userName += res?.userName;\n        }\n        this.blogService.storeUserName(userName);\n        if (res?.role === 'admin') {\n          this.router.navigate(['/admin/home']);\n        } else {\n          this.router.navigate(['/client/home']);\n        }\n      }\n    }, err => {\n      '';\n\n      console.log(\"Error  \", err);\n      alert(\"Something going wrong in login!!pl try again\");\n    });\n  }\n  routeToNewUser() {\n    this.router.navigate([\"/register\"]);\n  }\n  routeToForgotPassword() {\n    this.router.navigate([\"/forgot-password\"]);\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.BlogService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 50,\n  vars: 4,\n  consts: [[1, \"main-client-login\"], [3, \"formGroup\"], [1, \"item-icon\"], [1, \"icon\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter your email\", \"formControlName\", \"email\", \"required\", \"\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter your password\", \"formControlName\", \"password\", \"required\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [1, \"new-user-register\"], [1, \"sign-up\", 3, \"click\"], [1, \"sign-in-component\"], [1, \"container\"], [1, \"form\"], [1, \"input-group\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter your email\", \"required\", \"\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter your password\", \"required\", \"\"], [\"type\", \"submit\", 1, \"sign-in-button\"], [1, \"signup-link\"], [1, \"error-message\"], [4, \"ngIf\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"br\")(1, \"br\");\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"h1\");\n      i0.ɵɵtext(4, \"Sign In\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"br\");\n      i0.ɵɵelementStart(6, \"form\", 1)(7, \"div\", 2);\n      i0.ɵɵelement(8, \"div\", 3);\n      i0.ɵɵelementStart(9, \"label\", 4);\n      i0.ɵɵtext(10, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, LoginComponent_div_12_Template, 3, 2, \"div\", 6);\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵelementStart(14, \"div\", 2);\n      i0.ɵɵelement(15, \"div\", 3);\n      i0.ɵɵelementStart(16, \"label\", 7);\n      i0.ɵɵtext(17, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, LoginComponent_div_19_Template, 3, 2, \"div\", 6);\n      i0.ɵɵelement(20, \"br\");\n      i0.ɵɵelementStart(21, \"div\")(22, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_22_listener() {\n        return ctx.signIn();\n      });\n      i0.ɵɵtext(23, \"SignIn\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(24, \"br\");\n      i0.ɵɵelementStart(25, \"div\", 10);\n      i0.ɵɵtext(26, \" Don`t have an account yet? \");\n      i0.ɵɵelementStart(27, \"span\", 11);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_span_click_27_listener() {\n        return ctx.routeToNewUser();\n      });\n      i0.ɵɵtext(28, \"Sign up Now\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(29, \"br\");\n      i0.ɵɵelementStart(30, \"div\", 12)(31, \"div\", 13)(32, \"h2\");\n      i0.ɵɵtext(33, \"Sign In\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"form\", 14)(35, \"div\", 15)(36, \"label\", 4);\n      i0.ɵɵtext(37, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(38, \"input\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 15)(40, \"label\", 7);\n      i0.ɵɵtext(41, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(42, \"input\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"button\", 18);\n      i0.ɵɵtext(44, \"Sign In\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(45, \"div\", 19)(46, \"p\");\n      i0.ɵɵtext(47, \"Don't have an account? \");\n      i0.ɵɵelementStart(48, \"a\", 11);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_48_listener() {\n        return ctx.routeToNewUser();\n      });\n      i0.ɵɵtext(49, \"Sign up Now\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.clientLoginForm);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.clientLoginForm.controls[\"email\"].invalid && (ctx.clientLoginForm.controls[\"email\"].dirty || ctx.clientLoginForm.controls[\"email\"].touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.clientLoginForm.controls[\"password\"].invalid && (ctx.clientLoginForm.controls[\"password\"].dirty || ctx.clientLoginForm.controls[\"password\"].touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.clientLoginForm.controls[\"password\"].valid || !ctx.clientLoginForm.controls[\"email\"].valid);\n    }\n  },\n  dependencies: [i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgForm, i3.FormGroupDirective, i3.FormControlName, i5.MatButton],\n  styles: [\"*[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n    box-sizing: border-box;\\n  }\\n  \\n  .sign-in-component[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    min-height: 100vh;\\n    background-image: url('background.jpg'); \\n    background-size: cover;\\n    background-position: center;\\n  }\\n  \\n  .container[_ngcontent-%COMP%] {\\n    background: rgba(255, 255, 255, 0.1); \\n    -webkit-backdrop-filter: blur(10px);\\n            backdrop-filter: blur(10px); \\n    border-radius: 15px;\\n    padding: 30px;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\\n    width: 100%;\\n    max-width: 400px;\\n    border: 1px solid rgba(255, 255, 255, 0.3); \\n    color: #fff; \\n  }\\n  \\n  h2[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-bottom: 20px;\\n    font-size: 24px;\\n  }\\n  \\n  .input-group[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n  }\\n  \\n  .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n    color: #fff;\\n  }\\n  \\n  .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 10px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    font-size: 14px;\\n    background-color: rgba(255, 255, 255, 0.2); \\n    color: #fff;\\n  }\\n  \\n  .sign-in-button[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 12px;\\n    background-color: #4CAF50;\\n    color: white;\\n    border: none;\\n    border-radius: 4px;\\n    font-size: 16px;\\n    cursor: pointer;\\n  }\\n  \\n  .sign-in-button[_ngcontent-%COMP%]:hover {\\n    background-color: #45a049;\\n  }\\n  \\n  .signup-link[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-top: 20px;\\n  }\\n  \\n  .signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    color: #007BFF;\\n    text-decoration: none;\\n  }\\n  \\n  .signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n    text-decoration: underline;\\n  }\\n  \\n  \\n  .background-image[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    background-image: url('background.jpg'); \\n    background-size: cover;\\n    background-position: center;\\n    z-index: -1;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFxQkU7O0FBRUYsNkNBQTZDO0FBQzdDO0lBQ0ksU0FBUztJQUNULFVBQVU7SUFDVixzQkFBc0I7RUFDeEI7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsdUNBQXVDLEVBQUUsOEJBQThCO0lBQ3ZFLHNCQUFzQjtJQUN0QiwyQkFBMkI7RUFDN0I7O0VBRUE7SUFDRSxvQ0FBb0MsRUFBRSxzQ0FBc0M7SUFDNUUsbUNBQTJCO1lBQTNCLDJCQUEyQixFQUFFLHNCQUFzQjtJQUNuRCxtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLHdDQUF3QztJQUN4QyxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLDBDQUEwQyxFQUFFLHNDQUFzQztJQUNsRixXQUFXLEVBQUUsZUFBZTtFQUM5Qjs7RUFFQTtJQUNFLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGVBQWU7SUFDZixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxXQUFXO0lBQ1gsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLDBDQUEwQyxFQUFFLHVDQUF1QztJQUNuRixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxXQUFXO0lBQ1gsYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLGtCQUFrQjtJQUNsQixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxjQUFjO0lBQ2QscUJBQXFCO0VBQ3ZCOztFQUVBO0lBQ0UsMEJBQTBCO0VBQzVCOztFQUVBLHVDQUF1QztFQUN2QztJQUNFLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sT0FBTztJQUNQLFdBQVc7SUFDWCxZQUFZO0lBQ1osdUNBQXVDLEVBQUUsNkJBQTZCO0lBQ3RFLHNCQUFzQjtJQUN0QiwyQkFBMkI7SUFDM0IsV0FBVztFQUNiIiwic291cmNlc0NvbnRlbnQiOlsiLyouY2xpZW50LWxvZ2luIHtcbiAgICB3aWR0aDogNDAlO1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIGJveC1zaGFkb3c6IHJnYigxMDkgMTA5IDEyNSAvIDI4JSkgMHB4IDRweCA3cHggMTJweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMjBweDtcbn1cbi5lcnJvci1tZXNzYWdlIHtcbiAgICBjb2xvcjogcmVkO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbn1cbi5zaWduLXVwe1xuICAgIGNvbG9yOmJsdWU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ubWFpbi1jbGllbnQtbG9naW57XG4gICAgd2lkdGg6IDQwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBib3gtc2hhZG93OiByZ2IoMTA5IDEwOSAxMjUgLyAyOCUpIDBweCA0cHggN3B4IDEycHg7XG4gICAgcGFkZGluZzogMjBweDtcbn0qL1xuXG4vKiBSZXNldCBzb21lIGRlZmF1bHQgc3R5bGVzIGZvciBjb21wb25lbnRzICovXG4qIHtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG4gIFxuICAuc2lnbi1pbi1jb21wb25lbnQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2JhY2tncm91bmQuanBnJyk7IC8qIE9wdGlvbmFsIGJhY2tncm91bmQgaW1hZ2UgKi9cbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgfVxuICBcbiAgLmNvbnRhaW5lciB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOyAvKiBTZW1pLXRyYW5zcGFyZW50IHdoaXRlIGJhY2tncm91bmQgKi9cbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7IC8qIEdsYXNzIGJsdXIgZWZmZWN0ICovXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBwYWRkaW5nOiAzMHB4O1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7IC8qIExpZ2h0IGJvcmRlciBmb3IgdGhlIGdsYXNzIGVmZmVjdCAqL1xuICAgIGNvbG9yOiAjZmZmOyAvKiBXaGl0ZSB0ZXh0ICovXG4gIH1cbiAgXG4gIGgyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gIH1cbiAgXG4gIC5pbnB1dC1ncm91cCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgfVxuICBcbiAgLmlucHV0LWdyb3VwIGxhYmVsIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY29sb3I6ICNmZmY7XG4gIH1cbiAgXG4gIC5pbnB1dC1ncm91cCBpbnB1dCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOyAvKiBMaWdodCBiYWNrZ3JvdW5kIHdpdGggdHJhbnNwYXJlbmN5ICovXG4gICAgY29sb3I6ICNmZmY7XG4gIH1cbiAgXG4gIC5zaWduLWluLWJ1dHRvbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMTJweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbiAgXG4gIC5zaWduLWluLWJ1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ1YTA0OTtcbiAgfVxuICBcbiAgLnNpZ251cC1saW5rIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgfVxuICBcbiAgLnNpZ251cC1saW5rIGEge1xuICAgIGNvbG9yOiAjMDA3QkZGO1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgfVxuICBcbiAgLnNpZ251cC1saW5rIGE6aG92ZXIge1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICB9XG4gIFxuICAvKiBPcHRpb25hbDogZm9yIHRoZSBiYWNrZ3JvdW5kIGltYWdlICovXG4gIC5iYWNrZ3JvdW5kLWltYWdlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnYmFja2dyb3VuZC5qcGcnKTsgLyogQ2hhbmdlIHRvIHlvdXIgaW1hZ2UgVVJMICovXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgei1pbmRleDogLTE7XG4gIH1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormGroup","Validators","take","i0","LoginComponent","constructor","router","blogService","fb","pattern","clientLoginForm","group","email","required","password","compose","minLength","signIn","body","controls","value","console","log","clientSignIn","pipe","subscribe","res","userId","storeAuthorization","storeUserRole","role","storeLoggedInUserInformation","JSON","stringify","userName","storeUserName","navigate","err","alert","routeToNewUser","routeToForgotPassword","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\BLOG_PROJ\\Blog_frontend\\src\\app\\components\\login\\login.component.ts","D:\\BLOG_PROJ\\Blog_frontend\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { BlogService } from '../service/blog-service.service';\nimport { take } from 'rxjs';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  email: string = \"\";\n  password: string = \"\";\n  clientLoginForm = new FormGroup<any>({});\n\n  constructor(\n    private router: Router,\n    private blogService: BlogService,\n    private fb: FormBuilder\n\n  ) {\n    const pattern = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/; \n    this.clientLoginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.pattern(pattern)]],\n      password: [null, Validators.compose([Validators.required, Validators.minLength(8)])]\n    });\n\n  }\n\n  signIn(): void {\n\n    const body = {\n      \"userEmail\": this.clientLoginForm.controls['email'].value,\n      \"userPassword\": this.clientLoginForm.controls['password'].value\n    }\n    console.log(\"=======>\",body);\n    this.blogService.clientSignIn(body).pipe(take(1)).subscribe((res :any) => {\n      console.log(\"*****\",res);\n      if(res && res?.userId){\n       // alert(\"Login sucessful\");\n        this.blogService.storeAuthorization(res?.userId);\n        this.blogService.storeUserRole(res?.role);\n        this.blogService.storeLoggedInUserInformation(JSON.stringify(res));\n        let userName = '';\n        if (res?.userName) {\n          userName+=res?.userName;\n        }\n        this.blogService.storeUserName(userName);\n        if (res?.role === 'admin') {\n          this.router.navigate(['/admin/home']);\n        } else {\n          this.router.navigate(['/client/home']);\n        }\n       \n       \n      }\n    }, err =>{''\n      console.log(\"Error  \",err);\n      alert(\"Something going wrong in login!!pl try again\");\n    })\n\n  }\n\n  routeToNewUser(): void {\n    this.router.navigate([\"/register\"]);\n  }\n\n  routeToForgotPassword(): void {\n    this.router.navigate([\"/forgot-password\"]);\n  }\n}\n","<br /><br />\n<div class=\"main-client-login\">\n    <h1>Sign In</h1>\n    <br />\n\n    <form [formGroup]=\"clientLoginForm\">\n        <div class=\"item-icon\">\n            <div class=\"icon\">\n            </div>\n            <label for=\"email\">Email</label>\n            <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Enter your email\" formControlName=\"email\" required>\n        </div>\n        <div *ngIf=\"clientLoginForm.controls['email'].invalid && (clientLoginForm.controls['email'].dirty || clientLoginForm.controls['email'].touched)\"\n            class=\"error-message\">\n            <div *ngIf=\"clientLoginForm.controls['email'].errors?.['required']\">\n                Email should not blank\n            </div>\n            <div *ngIf=\"clientLoginForm.controls['email'].errors?.['pattern']\">\n                Enter Valid email\n            </div>\n        </div>\n\n\n        <br />\n        <div class=\"item-icon\">\n            <div class=\"icon\">\n            </div>\n            <label for=\"password\">Password</label>\n            <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Enter your password\" formControlName=\"password\" required>\n        </div>\n        <!-- Password Validation code -->\n        <div *ngIf=\"clientLoginForm.controls['password'].invalid && (clientLoginForm.controls['password'].dirty || clientLoginForm.controls['password'].touched)\"\n            class=\"error-message\">\n            <div *ngIf=\"clientLoginForm.controls['password'].errors?.['required']\">\n                Password should not blank\n            </div>\n            <!-- <div *ngIf=\"clientLoginForm.controls['password'].errors?.['maxlength']\">\n                Maximum 8 character required\n            </div> -->\n            <div *ngIf=\"clientLoginForm.controls['password'].errors?.['minlength']\">\n                Minium 8 character required\n            </div>\n        </div>\n        <!--End of Password Validation -->\n        <br />\n\n        <div>\n            <button (click)=\"signIn()\" mat-raised-button color=\"primary\" [disabled]=\"!clientLoginForm.controls['password'].valid || !clientLoginForm.controls['email'].valid\">SignIn</button>\n        </div>\n    </form>\n    <br>\n    <div class=\"new-user-register\">\n        Don`t have an account yet? <span class=\"sign-up\" (click)=\"routeToNewUser()\">Sign up Now</span>\n    </div>\n    <br />\n    <!-- <div class=\"sign-up\" (click)=\"routeToForgotPassword()\">\n        forgot password ?\n    </div>\n    <br /> -->\n\n    <div class=\"sign-in-component\">\n        <div class=\"container\">\n          <h2>Sign In</h2>\n          <form class=\"form\">\n            <div class=\"input-group\">\n              <label for=\"email\">Email</label>\n              <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Enter your email\" required>\n            </div>\n            <div class=\"input-group\">\n              <label for=\"password\">Password</label>\n              <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Enter your password\" required>\n            </div>\n            <button type=\"submit\" class=\"sign-in-button\">Sign In</button>\n          </form>\n          <div class=\"signup-link\">\n            <p>Don't have an account? <a class=\"sign-up\" (click)=\"routeToNewUser()\">Sign up Now</a></p>\n          </div>\n        </div>\n      </div>\n      "]},"metadata":{},"sourceType":"module","externalDependencies":[]}